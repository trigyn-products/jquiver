DROP TABLE IF EXISTS jq_authentication_type;

CREATE TABLE `jq_authentication_type` (
  `authentication_id` int(11) NOT NULL AUTO_INCREMENT,
  `authentication_name` varchar(50) DEFAULT NULL,
  `authentication_properties` longtext DEFAULT NULL CHECK (json_valid(`authentication_properties`)),
  `default_auth_properties` longtext DEFAULT NULL CHECK (json_valid(`default_auth_properties`)),
  PRIMARY KEY (`authentication_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb3;


insert into `jq_authentication_type` (`authentication_id`, `authentication_name`, `authentication_properties`, `default_auth_properties`) 
values ('1','In Memory Authentication',NULL,NULL),
('2','Database Authentication','{"authenticationType":{"name":"enableDatabaseAuthentication","type":"hidden","textValue":"Database Authentication","value":"false","configurationType":"single"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"hidden","textValue":"Display Name","required":true,"value":"Internal","defaultValue":""},{"name":"enableVerificationStep","type":"hidden","textValue":"Verification Step","required":false,"value":"false","additionalDetails":{"additionalProperties":[{"name":"verificationType","type":"select","textValue":"Verification","required":true,"value":"-1","defaultValue":"0","dropDownData":[{"name":"OTP","value":0},{"name":"Password","value":1},{"name":"TOTP","value":2}]},{"name":"passwordExpiry","type":"select","textValue":"Password Expiry","required":true,"selected":true,"value":"-1","defaultValue":"30","dropDownData":[{"name":"30","value":30},{"name":"45","value":45},{"name":"60","value":60},{"name":"75","value":75},{"name":"90","value":90},{"name":"Never","value":0}]},{"name":"enableCaptcha","type":"boolean","textValue":"Captcha","required":false,"value":"false","defaultValue":"true"}]}},{"name":"enableRegex","type":"boolean","textValue":"Regex","required":true,"value":"false","additionalDetails":{"additionalProperties":[{"name":"regexPattern","type":"text","textValue":"Expression","required":false,"value":"","condition":"regexPattern"},{"name":"message","type":"text","textValue":"Message","required":false,"value":"Password length 6-20"}]}},{"name":"enableRegistration","type":"boolean","textValue":"Registration","required":false,"value":"false"},{"name":"enableDynamicForm","type":"boolean","textValue":"Custom Profile Page","required":false,"value":"false","additionalDetails":{"additionalProperties":[{"name":"formName","type":"formAutocomplete","textValue":"Form Name","required":true,"value":""},{"name":"templateName","type":"templateAutocomplete","textValue":"Template Name","required":true,"value":""}]}}]]}}','{"authenticationType":{"name":"enableDatabaseAuthentication","type":"hidden","textValue":"Database Authentication","value":"false","configurationType":"single"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"hidden","textValue":"Display Name","required":true,"value":"Internal","defaultValue":""},{"name":"enableVerificationStep","type":"hidden","textValue":"Verification Step","required":false,"value":"true","additionalDetails":{"additionalProperties":[{"name":"verificationType","type":"select","textValue":"Verification","required":true,"value":"-1","defaultValue":"0","dropDownData":[{"name":"OTP","value":0},{"name":"Password","value":1},{"name":"TOTP","value":2}]},{"name":"passwordExpiry","type":"select","textValue":"Password Expiry","required":true,"selected":true,"value":"-1","defaultValue":"30","dropDownData":[{"name":"30","value":30},{"name":"45","value":45},{"name":"60","value":60},{"name":"75","value":75},{"name":"90","value":90},{"name":"Never","value":0}]},{"name":"enableCaptcha","type":"boolean","textValue":"Captcha","required":false,"value":"false","defaultValue":"true"}]}},{"name":"enableRegex","type":"boolean","textValue":"Regex","required":true,"value":"false","additionalDetails":{"additionalProperties":[{"name":"regexPattern","type":"text","textValue":"Expression","required":false,"value":"","condition":"regexPattern"},{"name":"message","type":"text","textValue":"Message","required":false,"value":"Password length 6-20"}]}},{"name":"enableRegistration","type":"boolean","textValue":"Registration","required":false,"value":"false"},{"name":"enableDynamicForm","type":"boolean","textValue":"Custom Profile Page","required":false,"value":"false","additionalDetails":{"additionalProperties":[{"name":"formName","type":"formAutocomplete","textValue":"Form Name","required":true,"value":""},{"name":"templateName","type":"templateAutocomplete","textValue":"Template Name","required":true,"value":""}]}}]]}}'),
('3','LDAP Authentication','{"authenticationType":{"name":"enableLdapAuthentication","type":"hidden","textValue":"LDAP Authentication","value":"false","configurationType":"multi"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"text","textValue":"Display Name","required":true,"value":"","defaultValue":""},{"name":"ldapAddress","type":"text","textValue":"Server Host","required":true,"value":""},{"name":"ldapPort","type":"text","textValue":"Server Port","required":true,"value":""},{"name":"ldapSecurityType","type":"select","textValue":"Security Level","required":true,"value":"0","defaultValue":"0","dropDownData":[{"name":"Simple","value":0},{"name":"SASL","value":1},{"name":"Start TLS","value":2}]},{"name":"basedn","type":"text","textValue":"Base Domain Name","required":true,"value":""},{"name":"userdn","type":"text","textValue":"Bind Domain Name","required":true,"value":""},{"name":"adminUserName","type":"text","textValue":"Admin User Name","required":true,"value":""},{"name":"adminPassword","type":"password","textValue":"Password","required":true,"value":""},{"name":"loginAttribute","type":"text","textValue":"Login Attribute","required":true,"value":""},{"name":"ldapSearchScope","type":"select","textValue":"Search Scope","required":true,"value":"0","defaultValue":"0","dropDownData":[{"name":"Base","value":0},{"name":"One","value":1},{"name":"Subtree","value":2}]},{"name":"ldapSearchFilter","type":"text","textValue":"Search Filter","required":true,"value":""},{"name":"testLdapAuth","type":"button","textValue":"Test","required":true,"value":"Test"},{"name":"removeLdapAuth","type":"button","textValue":"Remove","required":true,"value":"Remove"}]]}}','{"authenticationType":{"name":"enableLdapAuthentication","type":"hidden","textValue":"LDAP Authentication","value":"false","configurationType":"multi"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"text","textValue":"Display Name","required":true,"value":"","defaultValue":""},{"name":"ldapAddress","type":"text","textValue":"Server Host","required":true,"value":""},{"name":"ldapPort","type":"text","textValue":"Server Port","required":true,"value":""},{"name":"ldapSecurityType","type":"select","textValue":"Security Level","required":true,"value":"0","defaultValue":"0","dropDownData":[{"name":"Simple","value":0},{"name":"SASL","value":1},{"name":"Start TLS","value":2}]},{"name":"basedn","type":"text","textValue":"Base Domain Name","required":true,"value":""},{"name":"userdn","type":"text","textValue":"Bind Domain Name","required":true,"value":""},{"name":"adminUserName","type":"text","textValue":"Admin User Name","required":true,"value":""},{"name":"adminPassword","type":"password","textValue":"Password","required":true,"value":""},{"name":"loginAttribute","type":"text","textValue":"Login Attribute","required":true,"value":""},{"name":"ldapSearchScope","type":"select","textValue":"Search Scope","required":true,"value":"0","defaultValue":"0","dropDownData":[{"name":"Base","value":0},{"name":"One","value":1},{"name":"Subtree","value":2}]},{"name":"ldapSearchFilter","type":"text","textValue":"Search Filter","required":true,"value":""},{"name":"testLdapAuth","type":"button","textValue":"Test","required":true,"value":"Test"},{"name":"removeLdapAuth","type":"button","textValue":"Remove","required":true,"value":"Remove"}]]}}'),
('4','OAuth','{"authenticationType":{"name":"enableOAuthentication","type":"hidden","textValue":"OAuth Authentication","value":"false","configurationType":"multi"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"text","textValue":"Display Name","required":true,"value":"","defaultValue":""},{"name":"registration-id","type":"text","textValue":"Registration Id","required":true,"value":""},{"name":"client-id","type":"text","textValue":"Client Id","required":true,"value":""},{"name":"client-secret","type":"text","textValue":"Client Secret","required":true,"value":""},{"name":"authorization-uri","type":"text","textValue":"Authorization URI","required":true,"value":""},{"name":"token-uri","type":"text","textValue":"Token URI","required":true,"value":""},{"name":"scope","type":"text","textValue":"Scope","required":true,"value":""},{"name":"authorization_code","type":"text","textValue":"Authorization Code","required":true,"value":""},{"name":"redirect-uri-template","type":"text","textValue":"Redirect URI","required":true,"value":""},{"name":"jwk-set-uri","type":"text","textValue":"JWK URI","required":true,"value":""},{"name":"user-name-attr","type":"text","textValue":"User Name Attr","required":true,"value":""},{"name":"token-name","type":"text","textValue":"Token Name","required":false,"value":""},{"name":"user-info-uri","type":"text","textValue":"User Info URI","required":false,"value":""},{"name":"img-path","type":"text","textValue":"Image Path","required":false,"value":""},{"name":"remove-oauth-section","type":"button","textValue":"Remove","required":true,"value":"removeOauthSection"}]]}}','{"authenticationType":{"name":"enableOAuthentication","type":"hidden","textValue":"OAuth Authentication","value":"false","configurationType":"multi"},"authenticationDetail":{"configurations":[[{"name":"displayName","type":"text","textValue":"Display Name","required":true,"value":"","defaultValue":""},{"name":"registration-id","type":"text","textValue":"Registration Id","required":true,"value":""},{"name":"client-id","type":"text","textValue":"Client Id","required":true,"value":""},{"name":"client-secret","type":"text","textValue":"Client Secret","required":true,"value":""},{"name":"authorization-uri","type":"text","textValue":"Authorization URI","required":true,"value":""},{"name":"token-uri","type":"text","textValue":"Token URI","required":true,"value":""},{"name":"scope","type":"text","textValue":"Scope","required":true,"value":""},{"name":"authorization_code","type":"text","textValue":"Authorization Code","required":true,"value":""},{"name":"redirect-uri-template","type":"text","textValue":"Redirect URI","required":true,"value":""},{"name":"jwk-set-uri","type":"text","textValue":"JWK URI","required":true,"value":""},{"name":"user-name-attr","type":"text","textValue":"User Name Attr","required":true,"value":""},{"name":"token-name","type":"text","textValue":"Token Name","required":false,"value":""},{"name":"user-info-uri","type":"text","textValue":"User Info URI","required":false,"value":""},{"name":"img-path","type":"text","textValue":"Image Path","required":false,"value":""},{"name":"remove-oauth-section","type":"button","textValue":"Remove","required":true,"value":"removeOauthSection"}]]}}');

